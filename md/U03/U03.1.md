theme: benigaslo
class: lead

---

# Arrays
### Unidad 3.1
![cc.png](https://gvaedu-my.sharepoint.com/personal/a_torressolano_edu_gva_es/_layouts/15/download.aspx?SourceUrl=https://gvaedu-my.sharepoint.com/personal/a_torressolano_edu_gva_es/Documents/04_Benigaslo/10_Plantilles/cc.png)

## Contenidos

1. ¿Qué es un array?
2. Declaración y creación
3. Acceso
4. Recorrido
5. Paso por referencia en métodos
6. Copia de arrays
7. Métodos útiles
8. Arrays multidimensionales

## 1. ¿Qué es un array?

- **Estructura** que almacena una serie de elementos del mismo tipo
- Acceso por **índice** entero (empieza en 0)
- **Tamaño fijo**: se decide al crearlo
- Puede contener tipos primitivos o complejos (objetos, los veremos más adelante)
- Acceder fuera de rango lanza una **excepción** `ArrayIndexOutOfBoundsException`

### Tipos de arrays

- **Arrays unidimensionales** (vectores)
- **Arrays multidimensionales** (matrices)
  - En Java son “arrays de arrays”

### Arrays vs listas

- **Arrays**: tamaño fijo
  - Si no se conoce el tamaño estamos obligados a sobredimensionar o redimensionar (crear otro array y copiar)
- **Listas** (List): tamaño variable
  - Alternativa flexible cuando crece dinámicamente (veremos más adelante)

## 2. Declaración y creación

- **Declarar** variable array
```java
int[] numeros;         // recomendado en Java
int numerosC[];        // estilo C (válido pero menos claro)
```
Ahora debemos entender el `String[] args` del método `main`

- **Crear** (instanciar) el array
```java
numeros = new int[4];
```

- **Declarar + crear**
```java
int[] datos = new int[7];
```

- **Inicializar** el array manualmente (asignando por índice)
```java
datos[0] = 10;
datos[1] = -3;
datos[2] = 7;
datos[3] = 0;
datos[4] = 42;
datos[5] = 5;
datos[6] = 9;
```

- Si deseamos inicializar al declararlo, podemos usar llaves `{}`:
```java
int[] v = {2, -4, 15, -25};
char[] letras = {'a','b','c'};
String[] nombres = {"Ana","Luis","Eva"};
```

- Valores por defecto si no se inicializa:
  - **numéricos** → 0
  - **booleanos** → false
  - objetos (de momento, **String**) → null

## 3. Acceso

- **Lectura**
```java
int x = v[2];
System.out.println(v[3]);
```

- **Escritura**
```java
v[0] = 99;
```

- **Longitud**
```java
int n = v.length; // número de elementos
```

## 4. Recorrido

### **for** clásico

```java
int[] datos = {1, 2, 3, 4};

for (int i = 0; i < datos.length; i++) {
  System.out.print(datos[i] + " ");
}
```

- Control total sobre **índices**
- Útil cuando se necesita la **posición**

### **for-each**

```java
int[] datos = {1, 2, 3, 4};

for (int d : datos) {
  System.out.print(d + " ");
}
```

- Más simple para leer todos los elementos
- No expone el **índice**

### Ejemplo: cálculo del máximo de un array

```java
int max1 = Integer.MIN_VALUE; // valor mínimo posible de un int
// for clásico
for (int i = 0; i < v.length; i++) {
  if (v[i] > max1) max1 = v[i];
}

int max2 = Integer.MIN_VALUE; // valor mínimo posible de un int
// for-each
for (int n : v) {
  if (n > max2) max2 = n;
}
```

## 5. Paso por referencia en métodos

- Al pasar un **array** a un método, se pasa una **referencia** al mismo objeto
- El método puede modificar el contenido del **array** compartido

```java
// Implementación de un método que modifica un array
void multiplicaPrimeroPor10(int[] x) {
  x[0] *= 10;
}

// Uso del método
int[] a = {1, 2, 3};
multiplicaPrimeroPor10(a); // a => [10, 2, 3]
```

## 6. Copia de arrays

- Asignación copia la **referencia** (se comparte el mismo array en memoria)
```java
int[] a = {1, 2, 3};
int[] b = a;      // b y a apuntan al mismo array
a[0] = 10;        // b[0] también es 10
```

- **Clonado** crea otro array con los mismos valores (primitivos)
```java
int[] a = {1, 2, 3};
int[] b = a.clone(); // copia independiente
a[0] = 10;           // b sigue siendo [1, 2, 3]
```

- **Copia profunda**. Equivalente a clonar pero copiando los valores manualmente
  
```java
int[] a = {1, 2, 3};
int[] b = new int[a.length];
for (int i = 0; i < a.length; i++) {
  b[i] = a[i]; // nuevo valor
}
```

## 7. Métodos útiles

- Se encuentran en la clase `Arrays` del paquete `java.util`. Hay que importarla:

  ```java
  import java.util.Arrays;
  ```

- **length**. Devuelve la cantidad de elementos en el array. Se trata de una propiedad, por lo que no lleva paréntesis como los métodos.
  ```java
  int[] a = {1, 2, 3, 4};
  System.out.println(a.length); // Salida: 4
  ```

- **Arrays.toString(a)**. Convierte el array `a` en una representación de cadena, útil para imprimir el contenido del array de forma legible.
  ```java
  int[] a = {1, 2, 3, 4};
  System.out.println(Arrays.toString(a)); // Salida: [1, 2, 3, 4]
  ```

- **Arrays.sort(a)**. Ordena el array `a` en orden ascendente. Modifica el array original.
  ```java
  int[] a = {4, 2, 3, 1};
  Arrays.sort(a);
  System.out.println(Arrays.toString(a)); // Salida: [1, 2, 3, 4]
  ```

- **Arrays.binarySearch(a)**. Realiza una búsqueda binaria en el array `a`. Debe estar ordenado previamente para que funcione.
  ```java
  int[] a = {1, 2, 3, 4};
  int index = Arrays.binarySearch(a, 3);
  System.out.println(index); // Salida: 2
  ```

- **Arrays.equals(a, b)**. Compara dos arrays `a` y `b` para verificar si son iguales en contenido y longitud.
  ```java
  int[] a = {1, 2, 3};
  int[] b = {1, 2, 3};
  System.out.println(Arrays.equals(a, b)); // Salida: true
  ```

- **Arrays.fill(a, valor)**. Rellena el array `a` con el valor especificado. Todos los elementos del array se establecen en `valor`.
  ```java
  int[] a = new int[5];
  Arrays.fill(a, 10);
  System.out.println(Arrays.toString(a)); // Salida: [10, 10, 10, 10, 10]
  ```

- **Arrays.copyOf(a, nuevoTam)**. Crea una copia del array `a` con un nuevo tamaño `nuevoTam`. Si el nuevo tamaño es mayor, se rellenan los nuevos elementos con `null` (para arrays de objetos) o `0` (para arrays de primitivos).
  ```java
  int[] a = {1, 2, 3};
  int[] b = Arrays.copyOf(a, 5);
  System.out.println(Arrays.toString(b)); // Salida: [1, 2, 3, 0, 0]
  ```

- **cadena.split(delimitador)**: pertenece a la clase `String` (no a `Arrays`), pero tiene mucha relación con arrays, ya que divide una cadena en un array de cadenas usando un **delimitador** (separador)
  - Sintaxis: `String[] resultado = cadena.split(delimitador);`

```java
String texto = "Ana,Luis,Eva,Pedro";
String[] nombres = texto.split(",");
System.out.println(Arrays.toString(nombres)); 
// Salida: [Ana, Luis, Eva, Pedro]
```

```java
String frase = "Java es un lenguaje potente";
String[] palabras = frase.split(" ");

for (String palabra : palabras) {
  System.out.println(palabra);
}
// Salida:
// Java
// es
// un
// lenguaje
// potente
```

## 8. Arrays multidimensionales (2D)

- Arrays 2D: tabla o **matriz** (filas x columnas)
- En Java se representa como **array de arrays**

```java
int[][] m = new int[3][4]; // 3 filas, 4 columnas
m[2][1] = 24;
```

|    m   | Col 0 | Col 1 | Col 2 | Col 3 | tamaño fila i |
|--------|-------|-------|-------|-------|--------|
| Fila 0 |   0   |   0   |   0   |   0   | `m[0].length // 4` |
| Fila 1 |   0   |   0   |   0   |   0   | `m[1].length // 4` |
| Fila 2 |   0   |  24   |   0   |   0   | `m[2].length // 4` |

- **Longitudes**: al ser un array de arrays, cada fila tiene su propia longitud
```java
// tamaño: filas (3) x columnas (4)
m.length        // filas (3)
m[0].length     // columnas de la fila 0 (4)
m[1].length     // columnas de la fila 1 (4)
m[2].length     // columnas de la fila 2 (4)
```

### Matrices **irregulares**

- En Java, las matrices pueden tener filas de diferentes longitudes

```java
int[][] b = new int[2][];  // declaración de 2 filas sin especificar columnas
b[0] = new int[3];         // primera fila con 3 columnas
b[1] = new int[5];         // segunda fila con 5 columnas
```
| b      | Col 0 | Col 1 | Col 2 | Col 3 | Col 4 | tamaño fila i |
|--------|-------|-------|-------|-------|-------|------------------|
| Fila 0 | 0     | 0     | 0     | —     | —     | `b[0].length // 3`  |
| Fila 1 | 0     | 0     | 0     | 0     | 0     | `b[1].length // 5`  |

### Matrices irregulares

```java
int[][] c = {
  {10, 20},
  {30, 40, 50, 60},
  {70}
};
```
| c      | Col 0 | Col 1 | Col 2 | Col 3 | tamaño fila i |
|--------|-------|-------|-------|-------|------------------|
| Fila 0 | 10    | 20    | —     | —     | `c[0].length // 2`  |
| Fila 1 | 30    | 40    | 50    | 60    | `c[1].length // 4`  |
| Fila 2 | 70    | —     | —     | —     | `c[2].length // 1`  |

### Recorridos

```java
double[][] m = {
  {1,2,3,4,5},
  {6,7,8,9,10,11,12}
};
```
- **for** clásico
```java
for (int i = 0; i < m.length; i++) {
  for (int j = 0; j < m[i].length; j++)
    System.out.print(m[i][j] + "\t");
  System.out.println();
}
```

### Recorridos

- **for-each**

```java
for (double[] fila : m) {
  for (double dato : fila)
    System.out.print(dato + " ");
  System.out.println();
}
```

### Ejemplo: matriz identidad 4x4

```java
double[][] I = new double[4][4];

// Inicializar matriz identidad
for (int i = 0; i < I.length; i++)
  for (int j = 0; j < I[i].length; j++) 
    I[i][j] = (i == j) ? 1.0 : 0.0;

// Imprimir matriz identidad
for (int i = 0; i < I.length; i++) {
  for (int j = 0; j < I[i].length; j++)
    System.out.print(I[i][j] + "\t");
  System.out.println();
}
```

### Generalización a N dimensiones

```java
// Total de elementos = producto de tamaños
// tamaño1 * tamaño2 * ... * tamañoN
int[][][] t = new int[2][3][4]; // 2*3*4 = 24
```
